open = TRUE,
debug = FALSE,
name = NULL, gp = gpar(), vp = NULL)
p <- p + annotation_custom(grob=myCurve)
grob <- grobTree(textGrob("Representation from street vendors\nand their associatons",
x=0.52,  y=0.85, hjust=0, vjust = 0.3,
gp=gpar(col="black", fontsize=10, fontface="italic")))
p <- p + annotation_custom(grob)
p
data <- data[1:7,1:3]
data
#install.packages("reshape2")
#install.packages("grid")
#install.packages("RGraphics")
library(reshape2)
library(RGraphics)
library(ggplot2)
library(grid)
library(scales)
data <- read.csv("mandatevsreality.csv")
data <- data[1:7,1:3]
data[2,1] <- "Resident Welfare Association"
data$order <- 100*data$order/sum(data$order)
data$mm <- 100*data$meeting_minutes/sum(data$meeting_minutes)
data <- data[,c(1,2,4)]
data.new <- melt(data, id.vars = c("desc"))
colnames(data.new)[2] <- "source"
colnames(data.new)[3] <- "share_number"
data.new[,3] <- round(data.new[,3], 1)
levels(data.new$desc) <- gsub(" ", "\n", levels(data.new$desc))
data.new
p <- NULL
p <- ggplot(data.new[order(data.new$share_number, decreasing = F), ],
aes(x = source, y = share_number, fill = desc, label = share_number)) +
labs(title = "% of Members in TVCs") +
scale_x_discrete(position = "top", labels = c("Mandate of\nGovernment Order", "Reality from\nMeeting Minutes"))
p <- p + geom_bar(stat = "identity", width = 0.3)
p <- p +  geom_text(size = 3, position = position_stack(vjust = 0.5))
p <- p + theme(axis.text = element_text(size = 12))
p <- p + coord_flip()
p <- p + scale_y_reverse()
p <- p + theme(legend.position=c(0.55,0),
legend.title = element_blank(),
plot.title = element_text(hjust = 0.5),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
panel.border = element_blank(),
panel.background = element_blank(),
axis.line.x = element_blank(),
axis.line.y = element_blank(),
axis.ticks = element_blank(),
axis.text.x = element_blank(),
axis.text.y = element_text(size = 10),
axis.title = element_blank(),
legend.text = element_text(size = 10),
legend.margin = margin(r=1, unit = "pt")) + guides(fill = guide_legend(nrow = 1))
p <- p + theme(aspect.ratio = 1/2)
myCurve<-curveGrob(0.75, 0.93, 0.95, 0.75, default.units = "npc",
curvature = -0.5, angle = 90, ncp = 20, shape = 1,
square = FALSE, squareShape = 1,
inflect = FALSE, arrow = arrow(length = unit(0.2, "cm")),
open = TRUE,
debug = FALSE,
name = NULL, gp = gpar(), vp = NULL)
p <- p + annotation_custom(grob=myCurve)
grob <- grobTree(textGrob("Representation from street vendors\nand their associatons",
x=0.52,  y=0.85, hjust=0, vjust = 0.3,
gp=gpar(col="black", fontsize=10, fontface="italic")))
p <- p + annotation_custom(grob)
p
data
data <- read.csv("mandatevsreality.csv")
data <- data[1:7,1:3]
data
str(data)
data$desc <- factor(data$desc, levels = data$desc, labels = c(1:7))
data <- read.csv("mandatevsreality.csv")
data <- data[1:7,1:3]
data$desc <- factor(data$desc, levels = data$desc, labels = c(1:7))
data$order <- 100*data$order/sum(data$order)
data$mm <- 100*data$meeting_minutes/sum(data$meeting_minutes)
data <- data[,c(1,2,4)]
data.new <- melt(data, id.vars = c("desc"))
colnames(data.new)[2] <- "source"
colnames(data.new)[3] <- "share_number"
data.new[,3] <- round(data.new[,3], 1)
levels(data.new$desc) <- gsub(" ", "\n", levels(data.new$desc))
data.new
p <- NULL
p <- ggplot(data.new[order(data.new$share_number, decreasing = F), ],
aes(x = source, y = share_number, fill = desc, label = share_number)) +
labs(title = "% of Members in TVCs") +
scale_x_discrete(position = "top", labels = c("Mandate of\nGovernment Order", "Reality from\nMeeting Minutes"))
p <- p + geom_bar(stat = "identity", width = 0.3)
p <- p +  geom_text(size = 3, position = position_stack(vjust = 0.5))
p <- p + theme(axis.text = element_text(size = 12))
p <- p + coord_flip()
p <- p + scale_y_reverse()
p <- p + theme(legend.position=c(0.55,0),
legend.title = element_blank(),
plot.title = element_text(hjust = 0.5),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
panel.border = element_blank(),
panel.background = element_blank(),
axis.line.x = element_blank(),
axis.line.y = element_blank(),
axis.ticks = element_blank(),
axis.text.x = element_blank(),
axis.text.y = element_text(size = 10),
axis.title = element_blank(),
legend.text = element_text(size = 10),
legend.margin = margin(r=1, unit = "pt")) + guides(fill = guide_legend(nrow = 1))
p <- p + theme(aspect.ratio = 1/2)
myCurve<-curveGrob(0.75, 0.93, 0.95, 0.75, default.units = "npc",
curvature = -0.5, angle = 90, ncp = 20, shape = 1,
square = FALSE, squareShape = 1,
inflect = FALSE, arrow = arrow(length = unit(0.2, "cm")),
open = TRUE,
debug = FALSE,
name = NULL, gp = gpar(), vp = NULL)
p <- p + annotation_custom(grob=myCurve)
grob <- grobTree(textGrob("Representation from street vendors\nand their associatons",
x=0.52,  y=0.85, hjust=0, vjust = 0.3,
gp=gpar(col="black", fontsize=10, fontface="italic")))
p <- p + annotation_custom(grob)
p
p
data <- data[1:7,1:3]
data$desc <- factor(data$desc, levels = data$desc, labels = c("Government Officials", 2:7))
data$order <- 100*data$order/sum(data$order)
data$mm <- 100*data$meeting_minutes/sum(data$meeting_minutes)
data <- data[,c(1,2,4)]
data.new <- melt(data, id.vars = c("desc"))
#install.packages("reshape2")
#install.packages("grid")
#install.packages("RGraphics")
library(reshape2)
library(RGraphics)
library(ggplot2)
library(grid)
library(scales)
data <- read.csv("mandatevsreality.csv")
data <- data[1:7,1:3]
data$desc <- factor(data$desc, levels = data$desc, labels = c("Government Officials", 2:7))
data$order <- 100*data$order/sum(data$order)
data$mm <- 100*data$meeting_minutes/sum(data$meeting_minutes)
data <- data[,c(1,2,4)]
data.new <- melt(data, id.vars = c("desc"))
colnames(data.new)[2] <- "source"
colnames(data.new)[3] <- "share_number"
data.new[,3] <- round(data.new[,3], 1)
levels(data.new$desc) <- gsub(" ", "\n", levels(data.new$desc))
data.new
p <- NULL
p <- ggplot(data.new[order(data.new$share_number, decreasing = F), ],
aes(x = source, y = share_number, fill = desc, label = share_number)) +
labs(title = "% of Members in TVCs") +
scale_x_discrete(position = "top", labels = c("Mandate of\nGovernment Order", "Reality from\nMeeting Minutes"))
p <- p + geom_bar(stat = "identity", width = 0.3)
p <- p +  geom_text(size = 3, position = position_stack(vjust = 0.5))
p <- p + theme(axis.text = element_text(size = 12))
p <- p + coord_flip()
p <- p + scale_y_reverse()
p <- p + theme(legend.position=c(0.55,0),
legend.title = element_blank(),
plot.title = element_text(hjust = 0.5),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
panel.border = element_blank(),
panel.background = element_blank(),
axis.line.x = element_blank(),
axis.line.y = element_blank(),
axis.ticks = element_blank(),
axis.text.x = element_blank(),
axis.text.y = element_text(size = 10),
axis.title = element_blank(),
legend.text = element_text(size = 10),
legend.margin = margin(r=1, unit = "pt")) + guides(fill = guide_legend(nrow = 1))
p <- p + theme(aspect.ratio = 1/2)
myCurve<-curveGrob(0.75, 0.93, 0.95, 0.75, default.units = "npc",
curvature = -0.5, angle = 90, ncp = 20, shape = 1,
square = FALSE, squareShape = 1,
inflect = FALSE, arrow = arrow(length = unit(0.2, "cm")),
open = TRUE,
debug = FALSE,
name = NULL, gp = gpar(), vp = NULL)
p <- p + annotation_custom(grob=myCurve)
grob <- grobTree(textGrob("Representation from street vendors\nand their associatons",
x=0.52,  y=0.85, hjust=0, vjust = 0.3,
gp=gpar(col="black", fontsize=10, fontface="italic")))
p <- p + annotation_custom(grob)
p
data
data <- read.csv("mandatevsreality.csv")
data <- data[1:7,1:3]
data
data <- read.csv("mandatevsreality.csv")
data <- data[1:7,1:3]
data
data$desc <- factor(data$desc, levels = data$desc, labels = c("Government Officials",
"Resident Welfare Association",
"NGO",
"Market Association",
"Street Vendors' Association",
"Street Vendors",
"Others"))
data$order <- 100*data$order/sum(data$order)
data$mm <- 100*data$meeting_minutes/sum(data$meeting_minutes)
data <- data[,c(1,2,4)]
data.new <- melt(data, id.vars = c("desc"))
colnames(data.new)[2] <- "source"
colnames(data.new)[3] <- "share_number"
data.new[,3] <- round(data.new[,3], 1)
levels(data.new$desc) <- gsub(" ", "\n", levels(data.new$desc))
data.new
p <- NULL
p <- ggplot(data.new[order(data.new$share_number, decreasing = F), ],
aes(x = source, y = share_number, fill = desc, label = share_number)) +
labs(title = "% of Members in TVCs") +
scale_x_discrete(position = "top", labels = c("Mandate of\nGovernment Order", "Reality from\nMeeting Minutes"))
p <- p + geom_bar(stat = "identity", width = 0.3)
p <- p +  geom_text(size = 3, position = position_stack(vjust = 0.5))
p <- p + theme(axis.text = element_text(size = 12))
p <- p + coord_flip()
p <- p + scale_y_reverse()
p <- p + theme(legend.position=c(0.55,0),
legend.title = element_blank(),
plot.title = element_text(hjust = 0.5),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
panel.border = element_blank(),
panel.background = element_blank(),
axis.line.x = element_blank(),
axis.line.y = element_blank(),
axis.ticks = element_blank(),
axis.text.x = element_blank(),
axis.text.y = element_text(size = 10),
axis.title = element_blank(),
legend.text = element_text(size = 10),
legend.margin = margin(r=1, unit = "pt")) + guides(fill = guide_legend(nrow = 1))
p <- p + theme(aspect.ratio = 1/2)
myCurve<-curveGrob(0.75, 0.93, 0.95, 0.75, default.units = "npc",
curvature = -0.5, angle = 90, ncp = 20, shape = 1,
square = FALSE, squareShape = 1,
inflect = FALSE, arrow = arrow(length = unit(0.2, "cm")),
open = TRUE,
debug = FALSE,
name = NULL, gp = gpar(), vp = NULL)
p <- p + annotation_custom(grob=myCurve)
grob <- grobTree(textGrob("Representation from street vendors\nand their associatons",
x=0.52,  y=0.85, hjust=0, vjust = 0.3,
gp=gpar(col="black", fontsize=10, fontface="italic")))
p <- p + annotation_custom(grob)
p
p
data <- read.csv("mandatevsreality.csv")
data <- data[1:7,1:3]
data
data$desc <- factor(data$desc, labels = c("Government Officials",
"Resident Welfare Association",
"NGO",
"Market Association",
"Street Vendors' Association",
"Street Vendors",
"Others"))
data$order <- 100*data$order/sum(data$order)
data$mm <- 100*data$meeting_minutes/sum(data$meeting_minutes)
data <- data[,c(1,2,4)]
data.new <- melt(data, id.vars = c("desc"))
colnames(data.new)[2] <- "source"
colnames(data.new)[3] <- "share_number"
data.new[,3] <- round(data.new[,3], 1)
levels(data.new$desc) <- gsub(" ", "\n", levels(data.new$desc))
data.new
p <- NULL
p <- ggplot(data.new[order(data.new$share_number, decreasing = F), ],
aes(x = source, y = share_number, fill = desc, label = share_number)) +
labs(title = "% of Members in TVCs") +
scale_x_discrete(position = "top", labels = c("Mandate of\nGovernment Order", "Reality from\nMeeting Minutes"))
p <- p + geom_bar(stat = "identity", width = 0.3)
p <- p +  geom_text(size = 3, position = position_stack(vjust = 0.5))
p <- p + theme(axis.text = element_text(size = 12))
p <- p + coord_flip()
p <- p + scale_y_reverse()
p <- p + theme(legend.position=c(0.55,0),
legend.title = element_blank(),
plot.title = element_text(hjust = 0.5),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
panel.border = element_blank(),
panel.background = element_blank(),
axis.line.x = element_blank(),
axis.line.y = element_blank(),
axis.ticks = element_blank(),
axis.text.x = element_blank(),
axis.text.y = element_text(size = 10),
axis.title = element_blank(),
legend.text = element_text(size = 10),
legend.margin = margin(r=1, unit = "pt")) + guides(fill = guide_legend(nrow = 1))
p <- p + theme(aspect.ratio = 1/2)
myCurve<-curveGrob(0.75, 0.93, 0.95, 0.75, default.units = "npc",
curvature = -0.5, angle = 90, ncp = 20, shape = 1,
square = FALSE, squareShape = 1,
inflect = FALSE, arrow = arrow(length = unit(0.2, "cm")),
open = TRUE,
debug = FALSE,
name = NULL, gp = gpar(), vp = NULL)
p <- p + annotation_custom(grob=myCurve)
grob <- grobTree(textGrob("Representation from street vendors\nand their associatons",
x=0.52,  y=0.85, hjust=0, vjust = 0.3,
gp=gpar(col="black", fontsize=10, fontface="italic")))
p <- p + annotation_custom(grob)
p
data <- read.csv("mandatevsreality.csv")
data <- data[1:7,1:3]
data
data <- read.csv("mandatevsreality.csv")
data <- data[1:7,1:3]
data
data$order <- 100*data$order/sum(data$order)
data$mm <- 100*data$meeting_minutes/sum(data$meeting_minutes)
data <- data[,c(1,2,4)]
data.new <- melt(data, id.vars = c("desc"))
colnames(data.new)[2] <- "source"
colnames(data.new)[3] <- "share_number"
data.new[,3] <- round(data.new[,3], 1)
levels(data.new$desc) <- gsub(" ", "\n", levels(data.new$desc))
data.new
p <- NULL
p <- ggplot(data.new[order(data.new$share_number, decreasing = F), ],
aes(x = source, y = share_number, fill = desc, label = share_number)) +
labs(title = "% of Members in TVCs") +
scale_x_discrete(position = "top", labels = c("Mandate of\nGovernment Order", "Reality from\nMeeting Minutes"))
p <- p + geom_bar(stat = "identity", width = 0.3)
p <- p +  geom_text(size = 3, position = position_stack(vjust = 0.5))
p <- p + theme(axis.text = element_text(size = 12))
p <- p + coord_flip()
p <- p + scale_y_reverse()
p <- p + theme(legend.position=c(0.55,0),
legend.title = element_blank(),
plot.title = element_text(hjust = 0.5),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
panel.border = element_blank(),
panel.background = element_blank(),
axis.line.x = element_blank(),
axis.line.y = element_blank(),
axis.ticks = element_blank(),
axis.text.x = element_blank(),
axis.text.y = element_text(size = 10),
axis.title = element_blank(),
legend.text = element_text(size = 10),
legend.margin = margin(r=1, unit = "pt")) + guides(fill = guide_legend(nrow = 1))
p <- p + theme(aspect.ratio = 1/2)
myCurve<-curveGrob(0.75, 0.93, 0.95, 0.75, default.units = "npc",
curvature = -0.5, angle = 90, ncp = 20, shape = 1,
square = FALSE, squareShape = 1,
inflect = FALSE, arrow = arrow(length = unit(0.2, "cm")),
open = TRUE,
debug = FALSE,
name = NULL, gp = gpar(), vp = NULL)
p <- p + annotation_custom(grob=myCurve)
grob <- grobTree(textGrob("Representation from street vendors\nand their associatons",
x=0.52,  y=0.85, hjust=0, vjust = 0.3,
gp=gpar(col="black", fontsize=10, fontface="italic")))
p <- p + annotation_custom(grob)
p
#install.packages("reshape2")
#install.packages("grid")
#install.packages("RGraphics")
library(reshape2)
library(RGraphics)
library(ggplot2)
library(grid)
library(scales)
data <- read.csv("mandatevsreality.csv")
data <- data[1:7,1:3]
data
data$order <- 100*data$order/sum(data$order)
data$mm <- 100*data$meeting_minutes/sum(data$meeting_minutes)
data <- data[,c(1,2,4)]
data.new <- melt(data, id.vars = c("desc"))
colnames(data.new)[2] <- "source"
colnames(data.new)[3] <- "share_number"
data.new[,3] <- round(data.new[,3], 1)
levels(data.new$desc) <- gsub(" ", "\n", levels(data.new$desc))
data.new
p <- NULL
p <- ggplot(data.new[order(data.new$share_number, decreasing = F), ],
aes(x = source, y = share_number, fill = desc, label = share_number)) +
labs(title = "% of Members in TVCs") +
scale_x_discrete(position = "top", labels = c("Mandate of\nGovernment Order", "Reality from\nMeeting Minutes"))
p <- p + geom_bar(stat = "identity", width = 0.3)
p <- p +  geom_text(size = 3, position = position_stack(vjust = 0.5))
p <- p + theme(axis.text = element_text(size = 12))
p <- p + coord_flip()
p <- p + scale_y_reverse()
p <- p + theme(legend.position=c(0.55,0),
legend.title = element_blank(),
plot.title = element_text(hjust = 0.5),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
panel.border = element_blank(),
panel.background = element_blank(),
axis.line.x = element_blank(),
axis.line.y = element_blank(),
axis.ticks = element_blank(),
axis.text.x = element_blank(),
axis.text.y = element_text(size = 10),
axis.title = element_blank(),
legend.text = element_text(size = 10),
legend.margin = margin(r=1, unit = "pt")) + guides(fill = guide_legend(nrow = 1))
p <- p + theme(aspect.ratio = 1/2)
myCurve<-curveGrob(0.75, 0.93, 0.95, 0.75, default.units = "npc",
curvature = -0.5, angle = 90, ncp = 20, shape = 1,
square = FALSE, squareShape = 1,
inflect = FALSE, arrow = arrow(length = unit(0.2, "cm")),
open = TRUE,
debug = FALSE,
name = NULL, gp = gpar(), vp = NULL)
p <- p + annotation_custom(grob=myCurve)
grob <- grobTree(textGrob("Representation from street vendors\nand their associatons",
x=0.52,  y=0.85, hjust=0, vjust = 0.3,
gp=gpar(col="black", fontsize=10, fontface="italic")))
p <- p + annotation_custom(grob)
p
p <- p + theme(legend.position=c(0.52,0),
legend.title = element_blank(),
plot.title = element_text(hjust = 0.5),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
panel.border = element_blank(),
panel.background = element_blank(),
axis.line.x = element_blank(),
axis.line.y = element_blank(),
axis.ticks = element_blank(),
axis.text.x = element_blank(),
axis.text.y = element_text(size = 10),
axis.title = element_blank(),
legend.text = element_text(size = 10),
legend.margin = margin(r=1, unit = "pt")) + guides(fill = guide_legend(nrow = 1))
p <- p + theme(aspect.ratio = 1/2)
myCurve<-curveGrob(0.75, 0.93, 0.95, 0.75, default.units = "npc",
curvature = -0.5, angle = 90, ncp = 20, shape = 1,
square = FALSE, squareShape = 1,
inflect = FALSE, arrow = arrow(length = unit(0.2, "cm")),
open = TRUE,
debug = FALSE,
name = NULL, gp = gpar(), vp = NULL)
p <- p + annotation_custom(grob=myCurve)
grob <- grobTree(textGrob("Representation from street vendors\nand their associatons",
x=0.52,  y=0.85, hjust=0, vjust = 0.3,
gp=gpar(col="black", fontsize=10, fontface="italic")))
p <- p + annotation_custom(grob)
p
p
data <- read.csv("mandatevsreality.csv")
data <- data[1:7,1:3]
data
data$order <- 100*data$order/sum(data$order)
data$mm <- 100*data$meeting_minutes/sum(data$meeting_minutes)
data <- data[,c(1,2,4)]
data.new <- melt(data, id.vars = c("desc"))
colnames(data.new)[2] <- "source"
colnames(data.new)[3] <- "share_number"
data.new[,3] <- round(data.new[,3], 1)
levels(data.new$desc) <- gsub(" ", "\n", levels(data.new$desc))
data.new
p <- NULL
p <- ggplot(data.new[order(data.new$share_number, decreasing = F), ],
aes(x = source, y = share_number, fill = desc, label = share_number)) +
labs(title = "% of Members in TVCs") +
scale_x_discrete(position = "top", labels = c("Mandate of\nGovernment Order", "Reality from\nMeeting Minutes"))
p <- p + geom_bar(stat = "identity", width = 0.3)
p <- p +  geom_text(size = 3, position = position_stack(vjust = 0.5))
p <- p + theme(axis.text = element_text(size = 12))
p <- p + coord_flip()
p <- p + scale_y_reverse()
p <- p + theme(legend.position=c(0.52,0),
legend.title = element_blank(),
plot.title = element_text(hjust = 0.5),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
panel.border = element_blank(),
panel.background = element_blank(),
axis.line.x = element_blank(),
axis.line.y = element_blank(),
axis.ticks = element_blank(),
axis.text.x = element_blank(),
axis.text.y = element_text(size = 10),
axis.title = element_blank(),
legend.text = element_text(size = 10),
legend.margin = margin(r=1, unit = "pt")) + guides(fill = guide_legend(nrow = 1))
p <- p + theme(aspect.ratio = 1/2)
myCurve<-curveGrob(0.75, 0.93, 0.95, 0.75, default.units = "npc",
curvature = -0.5, angle = 90, ncp = 20, shape = 1,
square = FALSE, squareShape = 1,
inflect = FALSE, arrow = arrow(length = unit(0.2, "cm")),
open = TRUE,
debug = FALSE,
name = NULL, gp = gpar(), vp = NULL)
p <- p + annotation_custom(grob=myCurve)
grob <- grobTree(textGrob("Representation from street vendors\nand their associations",
x=0.52,  y=0.85, hjust=0, vjust = 0.3,
gp=gpar(col="black", fontsize=10, fontface="italic")))
p <- p + annotation_custom(grob)
p
p
#?annotation_custom
#?title
?theme
